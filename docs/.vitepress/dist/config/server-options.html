<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Server Options | Vite</title>
    <meta name="description" content="Next Generation Frontend Tooling">
    <link rel="stylesheet" href="/assets/style.a432069d.css">
    <link rel="modulepreload" href="/assets/chunks/VPAlgoliaSearchBox.a6f39dae.js">
    <link rel="modulepreload" href="/assets/chunks/ui-custom.b2b94b7c.js">
    <link rel="modulepreload" href="/assets/app.1478ba28.js">
    <link rel="modulepreload" href="/assets/config_server-options.md.bf1bc4ac.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Vite">
  <meta property="og:image" content="https://main.vitejs.dev/og-image.png">
  <meta property="og:url" content="https://main.vitejs.dev">
  <meta property="twitter:description" content="Next Generation Frontend Tooling">
  <meta property="twitter:title" content="Vite">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:image" content="https://main.vitejs.dev/og-image.png">
  <meta property="twitter:url" content="https://main.vitejs.dev">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-668b17a8><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ea291a5a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ea291a5a> Skip to content </a><!--]--><!----><header class="VPNav" data-v-668b17a8 data-v-220b1062><div class="VPNavBar has-sidebar" data-v-220b1062 data-v-1266da0c><div class="container" data-v-1266da0c><div class="VPNavBarTitle has-sidebar" data-v-1266da0c data-v-08002b3c><a class="title" href="/" data-v-08002b3c><!--[--><img class="VPImage logo" src="/logo.svg" data-v-7519b325><!--]--><!--[-->Vite<!--]--></a></div><div class="content" data-v-1266da0c><div class="VPNavBarSearch search" data-v-1266da0c><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key">Meta</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1266da0c data-v-3c12c234><span id="main-nav-aria-label" class="visually-hidden" data-v-3c12c234>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" data-v-3c12c234 data-v-0e0c91ef data-v-50be448c><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/config/" data-v-3c12c234 data-v-0e0c91ef data-v-50be448c><!--[-->Config<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/plugins/" data-v-3c12c234 data-v-0e0c91ef data-v-50be448c><!--[-->Plugins<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-3c12c234 data-v-b0c99fce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b0c99fce><span class="text" data-v-b0c99fce><!----> Links <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-b0c99fce><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-b0c99fce><div class="VPMenu" data-v-b0c99fce data-v-93b66c1c><div class="items" data-v-93b66c1c><!--[--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://twitter.com/vite_js" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Twitter<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://chat.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Discord Chat<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Awesome Vite<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://dev.to/t/vite" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->DEV Community<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Rollup Plugins Compat<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Changelog<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-3c12c234 data-v-b0c99fce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b0c99fce><span class="text" data-v-b0c99fce><!----> v3 (next) <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-b0c99fce><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-b0c99fce><div class="VPMenu" data-v-b0c99fce data-v-93b66c1c><div class="items" data-v-93b66c1c><!--[--><!--[--><div class="VPMenuLink" data-v-93b66c1c data-v-41fc7bc6><a class="VPLink link" href="https://v2.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->v2.x (stable)<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-1266da0c data-v-a40abd0a data-v-b0c99fce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b0c99fce><span class="text" data-v-b0c99fce><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-b0c99fce><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-b0c99fce><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-b0c99fce><div class="VPMenu" data-v-b0c99fce data-v-93b66c1c><!----><!--[--><!--[--><div class="items" data-v-a40abd0a><p class="title" data-v-a40abd0a>English</p><!--[--><div class="VPMenuLink" data-v-a40abd0a data-v-41fc7bc6><a class="VPLink link" href="https://cn.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->简体中文<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><div class="VPMenuLink" data-v-a40abd0a data-v-41fc7bc6><a class="VPLink link" href="https://ja.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->日本語<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><div class="VPMenuLink" data-v-a40abd0a data-v-41fc7bc6><a class="VPLink link" href="https://es.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Español<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-1266da0c data-v-7627cda4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-7627cda4 data-v-2db9fe9e data-v-8418208e><span class="check" data-v-8418208e><span class="icon" data-v-8418208e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2db9fe9e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2db9fe9e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1266da0c data-v-65d6b2d4 data-v-773e94b4><!--[--><a class="VPSocialLink" href="https://twitter.com/vite_js" title="twitter" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg><span class="visually-hidden" data-v-177a76b9>twitter</span></a><a class="VPSocialLink" href="https://chat.vitejs.dev" title="discord" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg><span class="visually-hidden" data-v-177a76b9>discord</span></a><a class="VPSocialLink" href="https://github.com/vitejs/vite" title="github" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-177a76b9>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1266da0c data-v-a0d78afa data-v-b0c99fce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b0c99fce><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-b0c99fce><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-b0c99fce><div class="VPMenu" data-v-b0c99fce data-v-93b66c1c><!----><!--[--><!--[--><div class="group" data-v-a0d78afa><p class="trans-title" data-v-a0d78afa>English</p><!--[--><div class="VPMenuLink" data-v-a0d78afa data-v-41fc7bc6><a class="VPLink link" href="https://cn.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->简体中文<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><div class="VPMenuLink" data-v-a0d78afa data-v-41fc7bc6><a class="VPLink link" href="https://ja.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->日本語<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><div class="VPMenuLink" data-v-a0d78afa data-v-41fc7bc6><a class="VPLink link" href="https://es.vitejs.dev" target="_blank" rel="noopener noreferrer" data-v-41fc7bc6 data-v-50be448c><!--[-->Español<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-50be448c><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--></div><div class="group" data-v-a0d78afa><div class="item appearance" data-v-a0d78afa><p class="label" data-v-a0d78afa>Appearance</p><div class="appearance-action" data-v-a0d78afa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-a0d78afa data-v-2db9fe9e data-v-8418208e><span class="check" data-v-8418208e><span class="icon" data-v-8418208e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2db9fe9e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2db9fe9e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-a0d78afa><div class="item social-links" data-v-a0d78afa><div class="VPSocialLinks social-links-list" data-v-a0d78afa data-v-773e94b4><!--[--><a class="VPSocialLink" href="https://twitter.com/vite_js" title="twitter" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg><span class="visually-hidden" data-v-177a76b9>twitter</span></a><a class="VPSocialLink" href="https://chat.vitejs.dev" title="discord" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg><span class="visually-hidden" data-v-177a76b9>discord</span></a><a class="VPSocialLink" href="https://github.com/vitejs/vite" title="github" target="_blank" rel="noopener noreferrer" data-v-773e94b4 data-v-177a76b9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-177a76b9><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-177a76b9>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1266da0c data-v-8a0f8f1c><span class="container" data-v-8a0f8f1c><span class="top" data-v-8a0f8f1c></span><span class="middle" data-v-8a0f8f1c></span><span class="bottom" data-v-8a0f8f1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-668b17a8 data-v-1669fa5e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1669fa5e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-1669fa5e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-1669fa5e>Menu</span></button><a class="top-link" href="#" data-v-1669fa5e> Return to top </a></div><aside class="VPSidebar" data-v-668b17a8 data-v-74d03e9e><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-74d03e9e><span class="visually-hidden" id="sidebar-aria-label" data-v-74d03e9e> Sidebar Navigation </span><!--[--><div class="group" data-v-74d03e9e><section class="VPSidebarGroup" data-v-74d03e9e data-v-f828d5a0><div class="title" data-v-f828d5a0><h2 class="title-text" data-v-f828d5a0>Config</h2><div class="action" data-v-f828d5a0><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-f828d5a0><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-f828d5a0><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-f828d5a0><!--[--><a class="VPLink link" href="/config/" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Configuring Vite</span><!--]--><!----></a><a class="VPLink link" href="/config/shared-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Shared Options</span><!--]--><!----></a><a class="VPLink link active" href="/config/server-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Server Options</span><!--]--><!----></a><a class="VPLink link" href="/config/build-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Build Options</span><!--]--><!----></a><a class="VPLink link" href="/config/preview-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Preview Options</span><!--]--><!----></a><a class="VPLink link" href="/config/dep-optimization-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Dep Optimization Options</span><!--]--><!----></a><a class="VPLink link" href="/config/ssr-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>SSR Options</span><!--]--><!----></a><a class="VPLink link" href="/config/worker-options.html" data-v-f828d5a0 data-v-71035254 data-v-50be448c><!--[--><span class="link-text" data-v-71035254>Worker Options</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-668b17a8 data-v-60c297c0><div class="VPDoc has-sidebar" data-v-60c297c0 data-v-1682693d><div class="container" data-v-1682693d><div class="aside" data-v-1682693d><div class="aside-curtain" data-v-1682693d></div><div class="aside-container" data-v-1682693d><div class="aside-content" data-v-1682693d><div class="VPDocAside" data-v-1682693d data-v-2e6ddbaa><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-2e6ddbaa data-v-35985eaa><div class="content" data-v-35985eaa><div class="outline-marker" data-v-35985eaa></div><div class="outline-title" data-v-35985eaa>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-35985eaa><span class="visually-hidden" id="doc-outline-aria-label" data-v-35985eaa> Table of Contents for current page </span><ul class="root" data-v-35985eaa><!--[--><li style="" data-v-35985eaa><a class="outline-link" href="#server-host" data-v-35985eaa>server.host</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-port" data-v-35985eaa>server.port</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-strictport" data-v-35985eaa>server.strictPort</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-https" data-v-35985eaa>server.https</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-open" data-v-35985eaa>server.open</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-proxy" data-v-35985eaa>server.proxy</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-cors" data-v-35985eaa>server.cors</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-headers" data-v-35985eaa>server.headers</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-hmr" data-v-35985eaa>server.hmr</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-watch" data-v-35985eaa>server.watch</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-middlewaremode" data-v-35985eaa>server.middlewareMode</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-base" data-v-35985eaa>server.base</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-fs-strict" data-v-35985eaa>server.fs.strict</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-fs-allow" data-v-35985eaa>server.fs.allow</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-fs-deny" data-v-35985eaa>server.fs.deny</a><!----></li><li style="" data-v-35985eaa><a class="outline-link" href="#server-origin" data-v-35985eaa>server.origin</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-2e6ddbaa></div><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="VPDocAsideCarbonAds" data-v-2e6ddbaa><div class="VPCarbonAds"></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-1682693d><div class="content-container" data-v-1682693d><!--[--><!--]--><main class="main" data-v-1682693d><div style="position:relative;" class="vp-doc _config_server-options" data-v-1682693d><div><h1 id="server-options" tabindex="-1">Server Options <a class="header-anchor" href="#server-options" aria-hidden="true">#</a></h1><h2 id="server-host" tabindex="-1">server.host <a class="header-anchor" href="#server-host" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>string | boolean</code></li><li><strong>Default:</strong> <code>&#39;localhost&#39;</code></li></ul><p>Specify which IP addresses the server should listen on. Set this to <code>0.0.0.0</code> or <code>true</code> to listen on all addresses, including LAN and public addresses.</p><p>This can be set via the CLI using <code>--host 0.0.0.0</code> or <code>--host</code>.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>There are cases when other servers might respond instead of Vite.</p><p>The first case is when <code>localhost</code> is used. Node.js below v17 reorders the result of DNS-resolved address by default. When accessing <code>localhost</code>, browsers use DNS to resolve the address and that address might differ from the address which Vite is listening. Vite prints the resolved address when it differs.</p><p>You could set <a href="https://nodejs.org/api/dns.html#dns_dns_setdefaultresultorder_order" target="_blank" rel="noopener noreferrer"><code>dns.setDefaultResultOrder(&#39;verbatim&#39;)</code></a> to disable the reordering behavior. Or you could set <code>server.host</code> to <code>127.0.0.1</code> explicitly.</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> dns </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dns</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">dns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDefaultResultOrder</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">verbatim</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// omit</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>The second case is when wildcard hosts (e.g. <code>0.0.0.0</code>) is used. This is because servers listening on non-wildcard hosts take priority over those listening on wildcard hosts.</p></div><h2 id="server-port" tabindex="-1">server.port <a class="header-anchor" href="#server-port" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Default:</strong> <code>5173</code></li></ul><p>Specify server port. Note if the port is already being used, Vite will automatically try the next available port so this may not be the actual port the server ends up listening on.</p><h2 id="server-strictport" tabindex="-1">server.strictPort <a class="header-anchor" href="#server-strictport" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li></ul><p>Set to <code>true</code> to exit if port is already in use, instead of automatically trying the next available port.</p><h2 id="server-https" tabindex="-1">server.https <a class="header-anchor" href="#server-https" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean | https.ServerOptions</code></li></ul><p>Enable TLS + HTTP/2. Note this downgrades to TLS only when the <a href="#server-proxy"><code>server.proxy</code> option</a> is also used.</p><p>The value can also be an <a href="https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener" target="_blank" rel="noopener noreferrer">options object</a> passed to <code>https.createServer()</code>.</p><p>A valid certificate is needed. For a basic setup, you can add <a href="https://github.com/vitejs/vite-plugin-basic-ssl" target="_blank" rel="noopener noreferrer">@vitejs/plugin-basic-ssl</a> to the project plugins, which will automatically create and cache a self-signed certificate. But we recommend creating your own certificates.</p><h2 id="server-open" tabindex="-1">server.open <a class="header-anchor" href="#server-open" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean | string</code></li></ul><p>Automatically open the app in the browser on server start. When the value is a string, it will be used as the URL&#39;s pathname. If you want to open the server in a specific browser you like, you can set the env <code>process.<wbr>env.BROWSER</code> (e.g. <code>firefox</code>). See <a href="https://github.com/sindresorhus/open#app" target="_blank" rel="noopener noreferrer">the <code>open</code> package</a> for more details.</p><p><strong>Example:</strong></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">open</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/docs/index.html</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="server-proxy" tabindex="-1">server.proxy <a class="header-anchor" href="#server-proxy" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>Record&lt;string, string | ProxyOptions&gt;</code></li></ul><p>Configure custom proxy rules for the dev server. Expects an object of <code>{ key: options }</code> pairs. If the key starts with <code>^</code>, it will be interpreted as a <code>RegExp</code>. The <code>configure</code> option can be used to access the proxy instance.</p><p>Uses <a href="https://github.com/http-party/node-http-proxy" target="_blank" rel="noopener noreferrer"><code>http-proxy</code></a>. Full options <a href="https://github.com/http-party/node-http-proxy#options" target="_blank" rel="noopener noreferrer">here</a>.</p><p>In some cases, you might also want to configure the underlying dev server (e.g. to add custom middlewares to the internal <a href="https://github.com/senchalabs/connect" target="_blank" rel="noopener noreferrer">connect</a> app). In order to do that, you need to write your own <a href="/guide/using-plugins.html">plugin</a> and use <a href="/guide/api-plugin.html#configureserver">configureServer</a> function.</p><p><strong>Example:</strong></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// string shorthand</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://localhost:4567</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// with options</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://jsonplaceholder.typicode.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">rewrite</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#A6ACCD;">\/</span><span style="color:#C3E88D;">api</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// with RegEx</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">^/fallback/.*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://jsonplaceholder.typicode.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">rewrite</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#A6ACCD;">\/</span><span style="color:#C3E88D;">fallback</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// Using the proxy instance</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://jsonplaceholder.typicode.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">configure</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">proxy</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">// proxy will be an instance of &#39;http-proxy&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// Proxying websockets or socket.io</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/socket.io</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws://localhost:5173</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">ws</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="server-cors" tabindex="-1">server.cors <a class="header-anchor" href="#server-cors" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean | CorsOptions</code></li></ul><p>Configure CORS for the dev server. This is enabled by default and allows any origin. Pass an <a href="https://github.com/expressjs/cors" target="_blank" rel="noopener noreferrer">options object</a> to fine tune the behavior or <code>false</code> to disable.</p><h2 id="server-headers" tabindex="-1">server.headers <a class="header-anchor" href="#server-headers" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>OutgoingHttpHeaders</code></li></ul><p>Specify server response headers.</p><h2 id="server-hmr" tabindex="-1">server.hmr <a class="header-anchor" href="#server-hmr" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean | { protocol?: string, host?: string, port?: number, path?: string, timeout?: number, overlay?: boolean, clientPort?: number, server?: Server }</code></li></ul><p>Disable or configure HMR connection (in cases where the HMR websocket must use a different address from the http server).</p><p>Set <code>server.hmr.overlay</code> to <code>false</code> to disable the server error overlay.</p><p><code>clientPort</code> is an advanced option that overrides the port only on the client side, allowing you to serve the websocket on a different port than the client code looks for it on.</p><p>When <code>server.hmr.server</code> is defined, Vite will process the HMR connection requests through the provided server. If not in middleware mode, Vite will attempt to process HMR connection requests through the existing server. This can be helpful when using self-signed certificates or when you want to expose Vite over a network on a single port.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>With the default configuration, reverse proxies in front of Vite are expected to support proxying WebSocket. If the Vite HMR client fails to connect WebSocket, the client will fallback to connecting the WebSocket directly to the Vite HMR server bypassing the reverse proxies:</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Direct websocket connection fallback. Check out https://vitejs.dev/config/server-options.html#server-hmr to remove the previous connection error.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>The error that appears in the Browser when the fallback happens can be ignored. To avoid the error by directly bypassing reverse proxies, you could either:</p><ul><li>configure the reverse proxy to proxy WebSocket too</li><li>set <a href="#server-strictport"><code>server.strictPort = true</code></a> and set <code>server.hmr.clientPort</code> to the same value with <code>server.port</code></li><li>set <code>server.hmr.port</code> to a different value from <a href="#server-port"><code>server.port</code></a></li></ul></div><h2 id="server-watch" tabindex="-1">server.watch <a class="header-anchor" href="#server-watch" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>object</code></li></ul><p>File system watcher options to pass on to <a href="https://github.com/paulmillr/chokidar#api" target="_blank" rel="noopener noreferrer">chokidar</a>.</p><p>When running Vite on Windows Subsystem for Linux (WSL) 2, if the project folder resides in a Windows filesystem, you&#39;ll need to set this option to <code>{ usePolling: true }</code>. This is due to <a href="https://github.com/microsoft/WSL/issues/4739" target="_blank" rel="noopener noreferrer">a WSL2 limitation</a> with the Windows filesystem.</p><p>The Vite server watcher skips <code>.git/</code> and <code>node_modules/</code> directories by default. If you want to watch a package inside <code>node_modules/</code>, you can pass a negated glob pattern to <code>server.watch.ignored</code>. That is:</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">watch</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">ignored</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">!**/node_modules/your-package-name/**</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// The watched package must be excluded from optimization,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// so that it can appear in the dependency graph and trigger hot reload.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimizeDeps</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">your-package-name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="server-middlewaremode" tabindex="-1">server.middlewareMode <a class="header-anchor" href="#server-middlewaremode" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li></ul><p>Create Vite server in middleware mode.</p><ul><li><p><strong>Related:</strong> <a href="./shared-options.html#apptype">appType</a>, <a href="/guide/ssr.html#setting-up-the-dev-server">SSR - Setting Up the Dev Server</a></p></li><li><p><strong>Example:</strong></p></li></ul><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> express </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">createServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> createViteServer </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createServer</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">express</span><span style="color:#F07178;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Create Vite server in middleware mode</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">vite</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createViteServer</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    server</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> middlewareMode</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    appType</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// don&#39;t include Vite&#39;s default HTML handling middlewares</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Use vite&#39;s connect instance as middleware</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">vite</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">middlewares</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">async</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Since `appType` is `&#39;custom&#39;`, should serve response here.</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Note: if `appType` is `&#39;spa&#39;` or `&#39;mpa&#39;`, Vite includes middlewares to handle</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// HTML requests and 404s so user middlewares should be added</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// before Vite&#39;s middlewares to take effect instead</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h2 id="server-base" tabindex="-1">server.base <a class="header-anchor" href="#server-base" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>string | undefined</code></li></ul><p>Prepend this folder to http requests, for use when proxying vite as a subfolder. Should start and end with the <code>/</code> character.</p><h2 id="server-fs-strict" tabindex="-1">server.fs.strict <a class="header-anchor" href="#server-fs-strict" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>true</code> (enabled by default since Vite 2.7)</li></ul><p>Restrict serving files outside of workspace root.</p><h2 id="server-fs-allow" tabindex="-1">server.fs.allow <a class="header-anchor" href="#server-fs-allow" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>string[]</code></li></ul><p>Restrict files that could be served via <code>/@fs/</code>. When <code>server.fs.strict</code> is set to <code>true</code>, accessing files outside this directory list that aren&#39;t imported from an allowed file will result in a 403.</p><p>Vite will search for the root of the potential workspace and use it as default. A valid workspace met the following conditions, otherwise will fallback to the <a href="/guide/#index-html-and-project-root">project root</a>.</p><ul><li>contains <code>workspaces</code> field in <code>package.json</code></li><li>contains one of the following file <ul><li><code>lerna.json</code></li><li><code>pnpm-workspace.yaml</code></li></ul></li></ul><p>Accepts a path to specify the custom workspace root. Could be a absolute path or a path relative to <a href="/guide/#index-html-and-project-root">project root</a>. For example:</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">fs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// Allow serving files from one level up to the project root</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">allow</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>When <code>server.fs.allow</code> is specified, the auto workspace root detection will be disabled. To extend the original behavior, a utility <code>searchForWorkspaceRoot</code> is exposed:</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">searchForWorkspaceRoot</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">fs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">allow</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// search up for workspace root</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">searchForWorkspaceRoot</span><span style="color:#A6ACCD;">(process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cwd</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// your custom rules</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/path/to/custom/allow</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="server-fs-deny" tabindex="-1">server.fs.deny <a class="header-anchor" href="#server-fs-deny" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>string[]</code></li></ul><p>Blocklist for sensitive files being restricted to be served by Vite dev server.</p><p>Default to <code>[&#39;.env&#39;, &#39;.env.*&#39;, &#39;*.{pem,crt}&#39;]</code>.</p><h2 id="server-origin" tabindex="-1">server.origin <a class="header-anchor" href="#server-origin" aria-hidden="true">#</a></h2><ul><li><strong>Type:</strong> <code>string</code></li></ul><p>Defines the origin of the generated asset URLs during development.</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">origin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://127.0.0.1:8080</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-1682693d data-v-96f85bbe><div class="edit-info" data-v-96f85bbe><div class="edit-link" data-v-96f85bbe><a class="VPLink link edit-link-button" href="https://github.com/vitejs/vite/edit/main/docs/config/server-options.md" target="_blank" rel="noopener noreferrer" data-v-96f85bbe data-v-50be448c><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-96f85bbe><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Suggest changes to this page<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-96f85bbe><div class="pager" data-v-96f85bbe><a class="pager-link prev" href="/config/shared-options.html" data-v-96f85bbe><span class="desc" data-v-96f85bbe>Previous page</span><span class="title" data-v-96f85bbe>Shared Options</span></a></div><div class="has-prev pager" data-v-96f85bbe><a class="pager-link next" href="/config/build-options.html" data-v-96f85bbe><span class="desc" data-v-96f85bbe>Next page</span><span class="title" data-v-96f85bbe>Build Options</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-668b17a8 data-v-449917b6><div class="container" data-v-449917b6><p class="message" data-v-449917b6>Released under the MIT License.</p><p class="copyright" data-v-449917b6>Copyright © 2019-present Evan You &amp; Vite Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_announcing-vite2.md\":\"99d52ef6\",\"config_build-options.md\":\"707df608\",\"config_dep-optimization-options.md\":\"e6b282e5\",\"config_index.md\":\"f64074a2\",\"config_preview-options.md\":\"0fd8c34d\",\"config_server-options.md\":\"bf1bc4ac\",\"config_shared-options.md\":\"87adafb3\",\"config_ssr-options.md\":\"a65ed667\",\"config_worker-options.md\":\"9c3029ee\",\"guide_api-hmr.md\":\"270b8e42\",\"guide_api-javascript.md\":\"3127c91a\",\"guide_api-plugin.md\":\"db714c10\",\"guide_assets.md\":\"0b8c1375\",\"guide_backend-integration.md\":\"5c908cd9\",\"guide_build.md\":\"7868ac1b\",\"guide_comparisons.md\":\"c3696137\",\"guide_dep-pre-bundling.md\":\"68fe08eb\",\"guide_env-and-mode.md\":\"d985b386\",\"guide_features.md\":\"f1e263c9\",\"guide_index.md\":\"db5d8ce7\",\"guide_migration.md\":\"001e54b2\",\"guide_ssr.md\":\"7b8f8c80\",\"guide_static-deploy.md\":\"54370ef1\",\"guide_using-plugins.md\":\"c471c3eb\",\"guide_why.md\":\"c12a69aa\",\"index.md\":\"6106115f\",\"plugins_index.md\":\"b21bd842\"}")</script>
    <script type="module" async src="/assets/app.1478ba28.js"></script>
    
  </body>
</html>